from collections import defaultdict


def lexical_max_1(nums):
    maxsize = minsize = 1
    for x in nums:
        maxsize = max(maxsize, len(str(x)))
        minsize = min(minsize, len(str(x)))

    nmap = defaultdict(list)
    for num in nums:
        val = str(num)
        key = val * (maxsize // minsize)
        nmap[key].append(val)

    snums = []
    for key in sorted(nmap):
        vals = nmap[key]
        for val in vals:
            snums.append(val)

    max_num = "".join(snums[::-1])
    max_num = max_num.lstrip("0")
    return max_num if max_num else "0"


def lexical_max(nums):
    snums = [str(num) for num in nums]
    sort_key =


tests = [
    ([3, 30, 34, 5, 9], "9534330"),
    ([3, 39, 34, 5, 9], "9539343"),
    ([333, 330, 9], "9333330"),
    ([34, 345, 9], "934534"),
    ([34, 342, 9], "934342"),
    ([34, 343, 9], "934343"),
    ([14, 342, 9], "934214"),
    ([1, 111, 1112], "11121111"),
    ([0, 0, 0, 0], "0"),
    (
        [472, 663, 964, 722, 485, 852, 635, 4, 368, 676, 319, 412],
        "9648527226766636354854724412368319",
    ),
    (
        [
            980,
            674,
            250,
            359,
            98,
            969,
            143,
            379,
            363,
            106,
            838,
            923,
            969,
            880,
            997,
            664,
            152,
            329,
            975,
            377,
            995,
            943,
            369,
            515,
            722,
            302,
            496,
            124,
            692,
            993,
            341,
            785,
            400,
            113,
            302,
            563,
            121,
            230,
            358,
            911,
            437,
            438,
            494,
            599,
            168,
            866,
            689,
            444,
            684,
            365,
            470,
            176,
            910,
            204,
            324,
            657,
            161,
            884,
            623,
            814,
            231,
            694,
            399,
            126,
            426,
        ],
        "99799599398980975969969943923911910884880866838814785722694692689684674664657623599563515496494470444438437426400399379377369365363359358341329324302302250231230204176168161152143126124121113106",
    ),
]

for i, (arg, exp) in enumerate(tests):
    act = lexical_max(arg)
    # act = dbg(arg)
    if exp != act:
        print(f"FAIL {i}: {arg}: expected {exp} got {act}!")
    else:
        print(f"PASS {i}")

# lexical_max([472, 663, 964, 722, 485, 852, 635, 4, 368, 676, 319, 412])


# A : [ 472, 663, 964, 722, 485, 852, 635, 4, 368, 676, 319, 412 ]
# 964 852 722 676 663 635 485 472 4 412 368 319
# 964 852 722 676 663 635 4 485 472 412 368 319
# 964 852 722 676 663 635 485 472 4 412 368 319
# 964 852 722 4485319368676472663635412
